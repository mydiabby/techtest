<div class="view">
    @defer(when (users())) {
    @if (users(); as users) {
    @if ((users).length > 0) {
    <table mat-table [dataSource]="users | sort : 'firstname'" class="mat-elevation-z4">
        @for (column of columns ; track column) {
        <ng-container [matColumnDef]="column.code">
            <th mat-header-cell *matHeaderCellDef> {{column.text |titlecase}} </th>
            <td mat-cell *matCellDef="let element"> {{element[column.code] |titlecase}} </td>
        </ng-container>
        }
        <tr mat-header-row *matHeaderRowDef="mapColumnsCode(columns)"></tr>
        <tr mat-row *matRowDef="let row; columns: mapColumnsCode(columns);"></tr>
    </table>
    } @else {
    <mat-card>
        <mat-card-content>Il n'y a aucun utilisateur dans la liste.</mat-card-content>
    </mat-card>
    }
    <button mat-fab extended color="primary" routerLink="add">
        <mat-icon>person_add</mat-icon>
        Ajouter un utilisateur
    </button>
    }
    }@placeholder () {
    <mat-spinner></mat-spinner>
    }
</div>